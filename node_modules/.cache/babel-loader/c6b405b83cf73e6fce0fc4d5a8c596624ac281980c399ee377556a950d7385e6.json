{"ast":null,"code":"var _jsxFileName = \"/home/parallels/code/astroport/astroport-dashboards/src/components/Dashboards/StatusReport/LiquidityPerDeployment/LiquidityPerDeployment.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport * as d3 from 'd3';\nimport astroport from '../../../../assets/images/astroport.svg';\nimport injective from '../../../../assets/images/injective.svg';\nimport terra from '../../../../assets/images/terra.svg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LiquidityPerDeployment = _ref => {\n  _s();\n  let {\n    ltvData\n  } = _ref;\n  const chartRef = useRef(null);\n  useEffect(() => {\n    const data = ltvData.map(chain => ({\n      chainId: chain.chainId,\n      totalLiquidityUsd: chain.totalLiquidityUsd,\n      color: chain.color,\n      brighterColor: chain.brighterColor\n    }));\n    const svg = d3.select(chartRef.current);\n    const width = 400;\n    const height = 400;\n    const radius = Math.min(width, height) / 2;\n    const g = svg.append('g').attr('transform', `translate(${width / 2},${height / 2})`);\n    const arc = d3.arc().innerRadius(radius * 0.67).outerRadius(radius - 1);\n    const pie = d3.pie().sort(null).value(d => d.totalLiquidityUsd);\n    const arcs = g.selectAll('.arc').data(pie(data)).enter().append('g').attr('class', 'arc');\n    arcs.append('path').attr('fill', d => d.data.color).attr('d', arc).on('mouseover', function (event, d) {\n      d3.select(this).attr('fill', d.data.brighterColor);\n    }).on('mouseout', function (event, d) {\n      d3.select(this).attr('fill', d.data.color);\n    });\n    arcs.append('line').attr('x1', d => arc.centroid(d)[0] * 2).attr('y1', d => arc.centroid(d)[1] * 2).attr('x2', d => arc.centroid(d)[0] * 2.2).attr('y2', d => arc.centroid(d)[1] * 2.2).attr('stroke', 'white');\n    arcs.append('text').attr('x', d => arc.centroid(d)[0] * 2.3).attr('y', d => arc.centroid(d)[1] * 2.3).attr('text-anchor', 'middle').attr('dy', '0.35em').style('fill', 'white').text(d => `${(d.data.totalLiquidityUsd / 1e6).toFixed(1)}M`);\n    arcs.append('image').attr('xlink:href', d => d.data.chainId === 'injective-1' ? injective : terra).attr('x', d => arc.centroid(d)[0] * 2.5 - 10).attr('y', d => arc.centroid(d)[1] * 2.5 - 10).attr('width', 20).attr('height', 20);\n    g.append('image').attr('xlink:href', astroport).attr('x', -50).attr('y', -50).attr('width', 100).attr('height', 100);\n  }, [ltvData]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"svg\", {\n      ref: chartRef,\n      width: 400,\n      height: 400\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n};\n_s(LiquidityPerDeployment, \"X+1SfQQ6xefXNU27aQW843M7cTw=\");\n_c = LiquidityPerDeployment;\nexport default LiquidityPerDeployment;\nvar _c;\n$RefreshReg$(_c, \"LiquidityPerDeployment\");","map":{"version":3,"names":["React","useEffect","useRef","d3","astroport","injective","terra","jsxDEV","_jsxDEV","LiquidityPerDeployment","_ref","_s","ltvData","chartRef","data","map","chain","chainId","totalLiquidityUsd","color","brighterColor","svg","select","current","width","height","radius","Math","min","g","append","attr","arc","innerRadius","outerRadius","pie","sort","value","d","arcs","selectAll","enter","on","event","centroid","style","text","toFixed","children","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/parallels/code/astroport/astroport-dashboards/src/components/Dashboards/StatusReport/LiquidityPerDeployment/LiquidityPerDeployment.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport * as d3 from 'd3';\nimport astroport from '../../../../assets/images/astroport.svg';\nimport injective from '../../../../assets/images/injective.svg';\nimport terra from '../../../../assets/images/terra.svg';\n\nconst LiquidityPerDeployment = ({ ltvData }) => {\n  const chartRef = useRef(null);\n\n  useEffect(() => {\n    const data = ltvData.map((chain) => ({\n      chainId: chain.chainId,\n      totalLiquidityUsd: chain.totalLiquidityUsd,\n      color: chain.color,\n      brighterColor: chain.brighterColor,\n    }));\n\n    const svg = d3.select(chartRef.current);\n    const width = 400;\n    const height = 400;\n    const radius = Math.min(width, height) / 2;\n\n    const g = svg\n      .append('g')\n      .attr('transform', `translate(${width / 2},${height / 2})`);\n\n    const arc = d3\n      .arc()\n      .innerRadius(radius * 0.67)\n      .outerRadius(radius - 1);\n\n    const pie = d3\n      .pie()\n      .sort(null)\n      .value((d) => d.totalLiquidityUsd);\n\n    const arcs = g\n      .selectAll('.arc')\n      .data(pie(data))\n      .enter()\n      .append('g')\n      .attr('class', 'arc');\n\n    arcs\n      .append('path')\n      .attr('fill', (d) => d.data.color)\n      .attr('d', arc)\n      .on('mouseover', function (event, d) {\n        d3.select(this).attr('fill', d.data.brighterColor);\n      })\n      .on('mouseout', function (event, d) {\n        d3.select(this).attr('fill', d.data.color);\n      });\n\n    arcs\n      .append('line')\n      .attr('x1', (d) => arc.centroid(d)[0] * 2)\n      .attr('y1', (d) => arc.centroid(d)[1] * 2)\n      .attr('x2', (d) => arc.centroid(d)[0] * 2.2)\n      .attr('y2', (d) => arc.centroid(d)[1] * 2.2)\n      .attr('stroke', 'white');\n\n    arcs\n      .append('text')\n      .attr('x', (d) => arc.centroid(d)[0] * 2.3)\n      .attr('y', (d) => arc.centroid(d)[1] * 2.3)\n      .attr('text-anchor', 'middle')\n      .attr('dy', '0.35em')\n      .style('fill', 'white')\n      .text((d) => `${(d.data.totalLiquidityUsd / 1e6).toFixed(1)}M`);\n\n    arcs\n      .append('image')\n      .attr('xlink:href', (d) => (d.data.chainId === 'injective-1' ? injective : terra))\n      .attr('x', (d) => arc.centroid(d)[0] * 2.5 - 10)\n      .attr('y', (d) => arc.centroid(d)[1] * 2.5 - 10)\n      .attr('width', 20)\n      .attr('height', 20);\n\n      g\n      .append('image')\n      .attr('xlink:href', astroport)\n      .attr('x', -50)\n      .attr('y', -50)\n      .attr('width', 100)\n      .attr('height', 100);\n\n  }, [ltvData]);\n\n  return (\n    <div>\n      <svg ref={chartRef} width={400} height={400} />\n    </div>\n  );\n};\n\nexport default LiquidityPerDeployment;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}